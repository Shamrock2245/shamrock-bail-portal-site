const fs = require('fs'); const code = fs.readFileSync('backend-gas/Dashboard.html', 'utf8').match(/<script[^>]*>([\s\S]*?)<\/script>/gi)[8].replace(/<[\/]?script[^>]*>/g, ''); try { require('vm').compileFunction(code); console.log('Parsed successfully'); } catch(e) { console.log('Syntax error:', e); const lines = code.split('\n'); console.log('Snippet around error:'); console.log(lines.slice(Math.max(0, e.loc?e.loc.line-3:0), (e.loc?e.loc.line+3:0)).join('\n')); }
